(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a.p+"static/media/profile.1062386a.svg"},219:function(e,t,a){e.exports=a.p+"static/media/eye.04de4817.svg"},220:function(e,t,a){e.exports=a.p+"static/media/bug.9056ae55.svg"},221:function(e,t,a){e.exports=a.p+"static/media/download.fdaafcb0.svg"},222:function(e,t,a){e.exports=a.p+"static/media/fork.9b771578.svg"},223:function(e,t,a){e.exports=a.p+"static/media/star.33fb0640.svg"},246:function(e,t,a){e.exports=a(659)},268:function(e,t,a){},269:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(58),s=a.n(o),i=a(70),c=a(51),l="/",u="/search",m="/:owner/:repo",h=a(96),d=a.n(h),p=a(53),g=a(235),b=a(234),f=a(20),E=a(232),v=(a(267),a(268),a(29)),w=a(30),y=a(32),k=a(31),O=a(33),S=a(675),j=a(673),N=a(668),C=(a(269),function(e){var t=e.size;return r.a.createElement(j.a,{size:t,className:"logo"},r.a.createElement("span",{className:"first"},"Lib"),r.a.createElement("span",{className:"second"},"Stack"))}),x=a(669),L=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).onChange=function(e){a.setState({query:e.target.value})},a.state={query:e.query,isLite:e.isLite},a}return Object(O.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x.a,{onSubmit:function(t){return e.props.onSubmit(t,e.state.query)}},this.state.isLite&&r.a.createElement(x.a.Input,{name:"query",className:"search wrapper",icon:"search",placeholder:"Search Libraries...",value:this.state.query,onChange:this.onChange}),!this.state.isLite&&r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Input,{width:13,size:"big",name:"query",value:this.state.query,onChange:this.onChange,placeholder:"Search...",style:{margin:"1em 0"}}),r.a.createElement(x.a.Button,{fluid:!0,width:3,size:"big",color:"orange",type:"submit",style:{fontWeight:400,margin:"1em 0"}},"Search")))}}]),t}(n.Component),R=a(671),q=function(e){var t=e.format;return r.a.createElement(R.a,{horizontal:!0,className:"footer"+(t?" "+t:"")},r.a.createElement(R.a.Item,{className:"copyright"},"\xa9 2019"),r.a.createElement(R.a.Item,{className:"link"},r.a.createElement("a",{href:"https://twitter.com/MonikKGandhi",target:"_blank",rel:"noopener noreferrer"},"Twitter")))},W=(a(388),a(233)),A=a(672),T=a(670),B=(a(389),a(138)),D=(a(390),a(392),{apiKey:"AIzaSyCBHGrzG2piFYy4nZuAWyWk-V6hnethnlo",authDomain:"libstack-prod.firebaseapp.com",databaseURL:"https://libstack-prod.firebaseio.com",projectId:"libstack-prod",storageBucket:"libstack-prod.appspot.com",messagingSenderId:"332957280897",appId:"1:332957280897:web:b611d9d136c8d875163b80",measurementId:"G-Z1JCB296GT"});var I=function(){return console.log("connecting to prod..."),D},z=a(667),M=r.a.createContext();B.initializeApp(I());var $=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).state={token:null,user:null,history:e.history},a.firebase=B,a.provider=new a.firebase.auth.GithubAuthProvider,a.provider.addScope("repo"),a.provider.setCustomParameters({allow_signup:"false",state:"12345"}),a.db=a.firebase.firestore(),a.unsubscribe=a.firebase.auth().onAuthStateChanged(function(e){e?(console.log("auth exists",e),a.getToken(e)):(console.log("redirecting for auth"),a.firebase.auth().signInWithRedirect(a.provider))}),a}return Object(O.a)(t,e),Object(w.a)(t,[{key:"getToken",value:function(e){var t=this;return this.db.doc("users/".concat(e.uid)).get().then(function(a){if(a.exists){var n=a.data(),r=n.token,o=n.created;t.setState({token:r,user:e}),t.saveToken(e,r,o,new Date)}else t.firebase.auth().getRedirectResult().then(function(e){e.credential&&(console.log(e),t.setState({token:e.credential.accessToken,user:e.user}),t.saveToken(t.state.user,t.state.token,new Date,new Date))}).catch(function(e){return console.log(e)})})}},{key:"saveToken",value:function(e,t,a,n){this.db.doc("users/".concat(e.uid)).set({email:e.email,name:e.displayName,token:t,created:a,modified:n})}},{key:"signOut",value:function(){var e=this;this.firebase.auth().signOut().then(function(t){console.log("signed out"),e.unsubscribe(),window.location.href="https://www.google.com"}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return this.state.token?r.a.createElement(M.Provider,{value:{token:this.state.token,user:this.state.user,signOut:function(){return e.signOut()}}},this.props.children):r.a.createElement(z.a,{active:!0},"Loading")}}]),t}(n.Component),H=a(215),U=a.n(H),G=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).onSubmit=function(e,t){e.preventDefault(),a.props.history.push(a.state.navLink+"?query="+t),a.setState({query:t})},a.onChange=function(e,t){"sign-out"===t.value&&a.state.signOut()},a.state={query:"",navLink:"/lib-stack/search",npmResults:[],withSearch:a.props.withSearch,history:a.props.history},a}return Object(O.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this.context,t=e.user,a=e.signOut;this.setState({query:"",navLink:"/lib-stack/search",npmResults:[],withSearch:this.props.withSearch,withoutLogo:this.props.withoutLogo,noBackground:this.props.noBackground,history:this.props.history,user:t,signOut:a})}},{key:"render",value:function(){var e=this.state,t=e.withSearch,a=e.withoutLogo,n=e.user,o=r.a.createElement("span",null,n&&n.photoURL&&r.a.createElement(W.a,{className:"profile",src:n.photoURL}),n&&!n.photoURL&&r.a.createElement(W.a,{className:"profile",src:U.a})),s=[{key:"user",text:n?n.displayName:null,disabled:!0},{key:"sign-out",text:"Sign Out",value:"sign-out"}];return r.a.createElement(A.a,{inverted:!0,secondary:!0,className:"thunder global header",style:{backgroundColor:this.state.noBackground?"white":"auto"}},!a&&r.a.createElement(A.a.Item,{name:"home"},r.a.createElement(i.b,{to:l},r.a.createElement(C,{size:"medium"}))),t&&r.a.createElement(A.a.Menu,{position:"right",className:"search"},r.a.createElement(A.a.Item,{name:"home"},r.a.createElement(L,{onSubmit:this.onSubmit,query:this.state.query,isLite:!0}))),n&&r.a.createElement(A.a.Menu,{position:"right",className:"profile"},r.a.createElement(A.a.Item,{name:"profile"},r.a.createElement(T.a,{trigger:o,options:s,pointing:"top right",icon:null,onChange:this.onChange,selectOnBlur:!1}))))}}]),t}(n.Component);G.contextType=M;var _=G,P=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).onSubmit=function(e,t){e.preventDefault(),a.props.history.push(a.state.navLink+"?query="+t)},a.state={query:"",navLink:u},a}return Object(O.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main",style:{height:"100vh"}},r.a.createElement(S.a,{style:{marginBottom:"7rem"}},r.a.createElement(S.a.Row,{centered:!0},r.a.createElement(_,{withoutLogo:!0,noBackground:!0})),r.a.createElement(S.a.Row,{centered:!0,style:{marginTop:"3vh"}},r.a.createElement(C,{size:"large"})),r.a.createElement(S.a.Row,{centered:!0},r.a.createElement(S.a.Column,{width:15,className:"aligned"},r.a.createElement(j.a,{as:"h3",className:"title"},"Why search on Github and NPM when you can do both at the same time."))),r.a.createElement(S.a.Row,{centered:!0},r.a.createElement(N.a,{text:!0,className:"copy"},r.a.createElement("p",null,"With LibStack, you can find what you\u2019re looking for on Github and NPMJS registry in one go. LibStack provides consolidated info from Github and NPMJS along with a better interface to access the repository effectively and run its examples through a coding playground."))),r.a.createElement(S.a.Row,{centered:!0},r.a.createElement(S.a.Column,{width:14},r.a.createElement(L,{onSubmit:this.onSubmit})))),r.a.createElement(q,{format:"abs"}))}}]),t}(n.Component),J=a(104),Z=a(105),K=a(106),F=a.n(K),Q=a(676),Y=(a(410),a(411),function(e){return r.a.createElement("div",{style:{marginLeft:"1rem",marginTop:"1rem"}},r.a.createElement(N.a,{fluid:!0,className:"title"},e.isLink&&r.a.createElement(i.b,{to:e.nameWithOwner,className:"repo link"},r.a.createElement(j.a,{as:"h2"},e.name)),!e.isLink&&r.a.createElement(j.a,{as:"h2"},e.name),r.a.createElement(N.a,{fluid:!0,className:"profile"},r.a.createElement("img",{className:"avatar",src:e.avatar,alt:"Avatar not found"}),r.a.createElement(j.a,{as:"h5",className:"owner"},e.owner),r.a.createElement(j.a,{as:"h5",className:"version"},"published 1.9.0"),r.a.createElement(j.a,{as:"h5",className:"date"},"7 months ago"))),r.a.createElement(N.a,{fluid:!0,className:"description"},r.a.createElement("p",{className:"repo desc",dangerouslySetInnerHTML:{__html:e.description}})))}),V=a(219),X=a.n(V),ee=a(220),te=a.n(ee),ae=a(221),ne=a.n(ae),re=a(222),oe=a.n(re),se=a(223),ie=a.n(se),ce=(a(412),function(e){var t=e.type,a=e.watchers,n=e.stars,o=e.downloads,s=e.forks,i=e.bugs;return r.a.createElement("div",{className:"lib-stats "+t,style:{marginLeft:"1rem"}},r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"label"},r.a.createElement(W.a,{src:ie.a}),r.a.createElement("span",null,"STARS")),r.a.createElement("span",{className:"value"},n)),r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"label"},r.a.createElement(W.a,{src:X.a}),r.a.createElement("span",null,"WATCHERS")),r.a.createElement("span",{className:"value"},a)),r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"label"},r.a.createElement(W.a,{src:ne.a}),r.a.createElement("span",null,"DOWNLOADS")),r.a.createElement("span",{className:"value"},o||"N/A")),r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"label"},r.a.createElement(W.a,{src:te.a}),r.a.createElement("span",null,"BUGS")),r.a.createElement("span",{className:"value"},i)),r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"label"},r.a.createElement(W.a,{src:oe.a}),r.a.createElement("span",null,"FORKS")),r.a.createElement("span",{className:"value"},s)))});function le(){var e=Object(J.a)(["\n  query($query: String!) {\n    search(query: $query, type:REPOSITORY, first: 5) {\n      edges {\n        node {\n          ...on Repository {\n            id\n            name\n            nameWithOwner\n            url\n            descriptionHTML\n            owner {\n              login\n              avatarUrl\n            }\n            watchers {\n              totalCount\n            }\n            forkCount\n            issues {\n              totalCount\n            }\n            stargazers {\n              totalCount\n            }\n            downloadCount @client\n          }\n        }\n      }\n    }\n  }\n"]);return le=function(){return e},e}var ue=F()(le()),me=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).onSubmit=function(e,t){e.preventDefault(),a.props.history.push(a.state.navLink+"?query="+t),a.setState({query:t})},a.state={query:new URLSearchParams(e.location.search).get("query"),navLink:u,npmResults:[]},a}return Object(O.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,null,r.a.createElement(Z.Helmet,null,r.a.createElement("title",null,this.state.query," - LibStack Search"),r.a.createElement("meta",{name:"description",content:"LibStack search for libraries, repositories and packages."})),r.a.createElement(S.a.Row,null,r.a.createElement(_,null)),r.a.createElement(S.a.Row,{centered:!0,className:"search"},r.a.createElement(S.a.Column,{width:14},r.a.createElement(L,{onSubmit:this.onSubmit,query:this.state.query}))),r.a.createElement(Q.a,{query:ue,variables:{query:this.state.query}},function(e){var t=e.data,a=e.loading;if(e.error)return r.a.createElement("div",null,"Error...");if(a)return r.a.createElement(S.a.Row,{centered:!0,className:"loader"},r.a.createElement(z.a,{active:!0},"Loading"));var n=(t=t.search?t:{search:{edges:[]}}).search.edges;return r.a.createElement(R.a,{className:"search-list"},n.map(function(e){var t=e.node,a=t.downloadCount?t.downloadCount.downloads:"";return r.a.createElement(R.a.Item,{className:"search-item",key:t.id},r.a.createElement(Y,{nameWithOwner:t.nameWithOwner,name:t.name,description:t.descriptionHTML,avatar:t.owner.avatarUrl,owner:t.owner.login,isLink:!0}),r.a.createElement(ce,{type:"left",watchers:t.watchers.totalCount,stars:t.stargazers.totalCount,downloads:a,forks:t.forkCount,bugs:t.issues.totalCount}))}))}),r.a.createElement(q,null))}}]),t}(n.Component),he=a(228),de=a(229),pe=a(230),ge=a.n(pe),be=a(231),fe=a(141),Ee=a.n(fe),ve=(a(657),a(658),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).state={data:e.data,nameWithOwner:e.nameWithOwner},a.md=new ge.a("default",{injected:!0,html:!0,linkify:!0,highlight:function(e,t){if(t&&Ee.a.getLanguage(t))try{return Ee.a.highlight(t,e).value}catch(a){}return""}}),a.md.use(be.a,{level:[1,2,3,4],slugify:function(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}}),a}return Object(O.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.nameWithOwner,n=new RegExp(/(https:\/\/github\.com\/)([a-zA-Z0-9\-_\/]*)(blob)([a-zA-Z0-9\-_\/]*)(\.(gif|jpeg|jpg|png))/,"gm"),o=new RegExp(/(src=")([\w\d-\/]*)(\.(gif|jpeg|jpg|png)(\?[\w\d&=]*)?")/,"gm"),s=new RegExp(/(href=")([^#https][\w\d-\/.]*)/,"gm");t=t.replace(n,"$1$2raw$4$5");var i=this.md.render(t);return i=(i=i.replace(o,"$1https://github.com/"+a+"/raw/master/$2$3")).replace(s,"$1https://github.com/"+a+"/blob/master$2"),r.a.createElement(N.a,{fluid:!0,className:"readme",dangerouslySetInnerHTML:{__html:i}})}}]),t}(n.Component));function we(){var e=Object(J.a)(['\n  query ($owner:String!, $name:String!) {\n    repository(owner:$owner, name:$name) {\n      id\n      name\n      nameWithOwner\n      url\n      descriptionHTML\n      owner {\n        login\n        avatarUrl\n      }\n      watchers {\n        totalCount\n      }\n      forkCount\n      issues {\n        totalCount\n      }\n      stargazers {\n        totalCount\n      }\n      downloadCount @client\n      defaultBranchRef {\n        name\n      }\n      tree: object(expression: "HEAD:") {\n        ...on Tree {\n          entries {\n            oid\n            name\n          }\n        }\n      }\n      packageJSON:  object(expression: "HEAD:package.json") {\n        ...on Blob {\n          text\n        }\n      }\n      README:  object(\n        expression: "HEAD:README.md") {\n        ...on Blob {\n          text\n        }\n      }\n      readme: object(\n        expression: "HEAD:readme.md") {\n        ...on Blob {\n          text\n        }\n      }\n      githubReadme: object(\n        expression: "HEAD:.github/readme.md") {\n        ...on Blob {\n          text\n        }\n      }\n    }\n  }\n']);return we=function(){return e},e}var ye=F()(we()),ke="https://codesandbox.io/api/v1/sandboxes/define",Oe=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).getSandbox=function(e){console.log(e);var t=Object(de.getParameters)({files:{"index.js":{content:"const "+e.name+" = require('"+e.name+"');"},"package.json":{content:{dependencies:Object(he.a)({},e.name,"^"+e.version)}}}}),n=ke+"?parameters=".concat(t,"&json=1");d.a.get(n).then(function(e){console.log(e.data.sandbox_id),a.setState({owner:a.state.owner,repo:a.state.repo,sandboxUrl:a.state.sandboxUrl+e.data.sandbox_id,isSandboxReady:!0})})},a.state={owner:e.match.params.owner,repo:e.match.params.repo,sandboxUrl:"https://codesandbox.io/embed/",isSandboxReady:!1},a}return Object(O.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.state,t=e.sandboxUrl,a=e.isSandboxReady;return r.a.createElement("div",{className:"App"},r.a.createElement(Z.Helmet,null,r.a.createElement("title",null,this.state.owner,"/",this.state.repo," - LibStack"),r.a.createElement("meta",{name:"description",content:"Github repo description"})),r.a.createElement(_,{withSearch:!0,history:this.props.history}),r.a.createElement(Q.a,{query:ye,variables:{owner:this.state.owner,name:this.state.repo}},function(e){var t=e.data,a=e.loading;if(e.error)return r.a.createElement("div",null,"Error...");if(a)return r.a.createElement(z.a,{active:!0},"Loading");var n=t.repository;console.log(n);var o=n.downloadCount?n.downloadCount.downloads:"",s=n.README||n.readme||n.githubReadme;return r.a.createElement("div",null,r.a.createElement(Y,{nameWithOwner:n.nameWithOwner,name:n.name,description:n.descriptionHTML,avatar:n.owner.avatarUrl,owner:n.owner.login,isLink:!1}),r.a.createElement(ce,{type:"left",watchers:n.watchers.totalCount,stars:n.stargazers.totalCount,downloads:o,forks:n.forkCount,bugs:n.issues.totalCount}),s&&s.text&&r.a.createElement(ve,{nameWithOwner:n.nameWithOwner,data:s.text}))}),a&&r.a.createElement("iframe",{src:t,title:"Code Example",style:{width:"100%",height:"500px",border:"0",borderRadius:"4px",overflow:"hidden"},sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=a(28),je="https://api.github.com/graphql",Ne=new b.a,Ce=Object(E.a)(function(e){var t=e.operation,a=e.response,n=e.graphQLErrors,r=e.networkError;n&&console.log("GraphQL Error: ",n),r&&console.log("Network Error: ",r,t,a),console.log("Operation: ",t),console.log("Response: ",a)});s.a.render(r.a.createElement($,null,r.a.createElement(function(){var e=Object(n.useContext)(M).token,t=new g.a({uri:je,headers:{authorization:"Bearer ".concat(e)}}),a=new p.a({cache:Ne,link:Se.a.from([Ce,t]),resolvers:{Repository:{downloadCount:function(e,t,a){return a.cache,d.a.get("https://api.npmjs.org/downloads/point/last-week/"+e.name).then(function(e){return e.data}).catch(function(e){return null})}}}});return r.a.createElement(f.a,{client:a},r.a.createElement(i.a,null,r.a.createElement(c.a,{path:l,exact:!0,component:P}),r.a.createElement(c.a,{path:u,component:me}),r.a.createElement(c.a,{path:m,component:Oe})))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[246,1,2]]]);
//# sourceMappingURL=main.5f7db7a7.chunk.js.map